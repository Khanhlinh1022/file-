import tkinter as tk
from tkinter import messagebox
import random

class –ú–æ—Ä—Å–∫–æ–π–ë–æ–π–ì–£–ò:
    def __init__(self):
        self.–æ–∫–Ω–æ = tk.Tk()
        self.–æ–∫–Ω–æ.title("–ú–æ—Ä—Å–∫–æ–π –ë–æ–π - –£–ª—å—è–Ω–æ–≤—Å–∫–∏–π –ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–π –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –£–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç")
        self.–æ–∫–Ω–æ.geometry("1200x700")
        self.–æ–∫–Ω–æ.configure(bg='#2c3e50')
        
        self.—Ä–∞–∑–º–µ—Ä_–ø–æ–ª—è = 10
        self.–∫–æ—Ä–∞–±–ª–∏ = {
            '4-–ø–∞–ª—É–±–Ω—ã–π': 4,
            '3-–ø–∞–ª—É–±–Ω—ã–π': 3,
            '3-–ø–∞–ª—É–±–Ω—ã–π2': 3,
            '2-–ø–∞–ª—É–±–Ω—ã–π': 2,
            '2-–ø–∞–ª—É–±–Ω—ã–π2': 2,
            '1-–ø–∞–ª—É–±–Ω—ã–π': 1,
            '1-–ø–∞–ª—É–±–Ω—ã–π2': 1,
            '1-–ø–∞–ª—É–±–Ω—ã–π3': 1,
            '1-–ø–∞–ª—É–±–Ω—ã–π4': 1
        }
        
        self.–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å_–∏–≥—Ä—É()
        self.—Å–æ–∑–¥–∞—Ç—å_–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å()
        
    def –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å_–∏–≥—Ä—É(self):
        """Kh·ªüi t·∫°o tr√≤ ch∆°i"""
        self.–ø–æ–ª–µ_–∏–≥—Ä–æ–∫–∞ = [['~' for _ in range(self.—Ä–∞–∑–º–µ—Ä_–ø–æ–ª—è)] for _ in range(self.—Ä–∞–∑–º–µ—Ä_–ø–æ–ª—è)]
        self.–ø–æ–ª–µ_–∫–æ–º–ø—å—é—Ç–µ—Ä–∞ = [['~' for _ in range(self.—Ä–∞–∑–º–µ—Ä_–ø–æ–ª—è)] for _ in range(self.—Ä–∞–∑–º–µ—Ä_–ø–æ–ª—è)]
        self.–∫–æ—Ä–∞–±–ª–∏_–∏–≥—Ä–æ–∫–∞ = []
        self.–∫–æ—Ä–∞–±–ª–∏_–∫–æ–º–ø—å—é—Ç–µ—Ä–∞ = []
        self.–≤—ã–±—Ä–∞–Ω–Ω—ã–π_–∫–æ—Ä–∞–±–ª—å = None
        self.—Ä–µ–∂–∏–º_—Ä–∞–∑–º–µ—â–µ–Ω–∏—è = True
        
        self.–∞–≤—Ç–æ_—Ä–∞–∑–º–µ—â–µ–Ω–∏–µ(self.–ø–æ–ª–µ_–∫–æ–º–ø—å—é—Ç–µ—Ä–∞, self.–∫–æ—Ä–∞–±–ª–∏_–∫–æ–º–ø—å—é—Ç–µ—Ä–∞)
        
    def —Å–æ–∑–¥–∞—Ç—å_–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å(self):
        """T·∫°o giao di·ªán ƒë·ªì h·ªça"""
        # Ti√™u ƒë·ªÅ
        –∑–∞–≥–æ–ª–æ–≤–æ–∫ = tk.Label(
            self.–æ–∫–Ω–æ,
            text="–ú–û–†–°–ö–û–ô –ë–û–ô",
            font=('Arial', 24, 'bold'),
            fg='white',
            bg='#2c3e50'
        )
        –∑–∞–≥–æ–ª–æ–≤–æ–∫.pack(pady=10)
        
        # Khung ch√≠nh
        –æ—Å–Ω–æ–≤–Ω–æ–π_—Ñ—Ä–µ–π–º = tk.Frame(self.–æ–∫–Ω–æ, bg='#2c3e50')
        –æ—Å–Ω–æ–≤–Ω–æ–π_—Ñ—Ä–µ–π–º.pack(expand=True, fill='both', padx=20, pady=10)
        
        # Khung b·∫£ng
        —Ñ—Ä–µ–π–º_–ø–æ–ª–µ–π = tk.Frame(–æ—Å–Ω–æ–≤–Ω–æ–π_—Ñ—Ä–µ–π–º, bg='#2c3e50')
        —Ñ—Ä–µ–π–º_–ø–æ–ª–µ–π.pack(expand=True, fill='both')
        
        # B·∫£ng c·ªßa ng∆∞·ªùi ch∆°i
        self.—Å–æ–∑–¥–∞—Ç—å_–ø–æ–ª–µ_–∏–≥—Ä–æ–∫–∞(—Ñ—Ä–µ–π–º_–ø–æ–ª–µ–π)
        
        # Khung ƒëi·ªÅu khi·ªÉn
        self.—Å–æ–∑–¥–∞—Ç—å_–ø–∞–Ω–µ–ª—å_—É–ø—Ä–∞–≤–ª–µ–Ω–∏—è(—Ñ—Ä–µ–π–º_–ø–æ–ª–µ–π)
        
        # B·∫£ng m√°y t√≠nh
        self.—Å–æ–∑–¥–∞—Ç—å_–ø–æ–ª–µ_–∫–æ–º–ø—å—é—Ç–µ—Ä–∞(—Ñ—Ä–µ–π–º_–ø–æ–ª–µ–π)
        
    def —Å–æ–∑–¥–∞—Ç—å_–ø–æ–ª–µ_–∏–≥—Ä–æ–∫–∞(self, —Ä–æ–¥–∏—Ç–µ–ª—å):
        """T·∫°o b·∫£ng c·ªßa ng∆∞·ªùi ch∆°i"""
        —Ñ—Ä–µ–π–º = tk.Frame(—Ä–æ–¥–∏—Ç–µ–ª—å, bg='#34495e', relief='raised', bd=2)
        —Ñ—Ä–µ–π–º.grid(row=0, column=0, padx=10, pady=10)
        
        –∑–∞–≥–æ–ª–æ–≤–æ–∫ = tk.Label(
            —Ñ—Ä–µ–π–º,
            text="–í–ê–®–ï –ü–û–õ–ï",
            font=('Arial', 14, 'bold'),
            fg='white',
            bg='#34495e'
        )
        –∑–∞–≥–æ–ª–æ–≤–æ–∫.pack(pady=5)
        
        self.—Ö–æ–ª—Å—Ç_–∏–≥—Ä–æ–∫–∞ = tk.Canvas(
            —Ñ—Ä–µ–π–º,
            width=400,
            height=400,
            bg='#3498db',
            relief='sunken',
            bd=2
        )
        self.—Ö–æ–ª—Å—Ç_–∏–≥—Ä–æ–∫–∞.pack(padx=10, pady=10)
        
        # V·∫Ω l∆∞·ªõi v√† g·∫Øn s·ª± ki·ªán click
        self.–Ω–∞—Ä–∏—Å–æ–≤–∞—Ç—å_–ø–æ–ª–µ(self.—Ö–æ–ª—Å—Ç_–∏–≥—Ä–æ–∫–∞, self.–ø–æ–ª–µ_–∏–≥—Ä–æ–∫–∞)
        self.—Ö–æ–ª—Å—Ç_–∏–≥—Ä–æ–∫–∞.bind('<Button-1>', self.–æ–±—Ä–∞–±–æ—Ç—á–∏–∫_–∫–ª–∏–∫–∞_–∏–≥—Ä–æ–∫–∞)
        
    def —Å–æ–∑–¥–∞—Ç—å_–ø–æ–ª–µ_–∫–æ–º–ø—å—é—Ç–µ—Ä–∞(self, —Ä–æ–¥–∏—Ç–µ–ª—å):
        """T·∫°o b·∫£ng m√°y t√≠nh"""
        —Ñ—Ä–µ–π–º = tk.Frame(—Ä–æ–¥–∏—Ç–µ–ª—å, bg='#34495e', relief='raised', bd=2)
        —Ñ—Ä–µ–π–º.grid(row=0, column=2, padx=10, pady=10)
        
        –∑–∞–≥–æ–ª–æ–≤–æ–∫ = tk.Label(
            —Ñ—Ä–µ–π–º,
            text="–ü–û–õ–ï –ü–†–û–¢–ò–í–ù–ò–ö–ê",
            font=('Arial', 14, 'bold'),
            fg='white',
            bg='#34495e'
        )
        –∑–∞–≥–æ–ª–æ–≤–æ–∫.pack(pady=5)
        
        self.—Ö–æ–ª—Å—Ç_–∫–æ–º–ø—å—é—Ç–µ—Ä–∞ = tk.Canvas(
            —Ñ—Ä–µ–π–º,
            width=400,
            height=400,
            bg='#3498db',
            relief='sunken',
            bd=2
        )
        self.—Ö–æ–ª—Å—Ç_–∫–æ–º–ø—å—é—Ç–µ—Ä–∞.pack(padx=10, pady=10)
        
        self.–Ω–∞—Ä–∏—Å–æ–≤–∞—Ç—å_–ø–æ–ª–µ(self.—Ö–æ–ª—Å—Ç_–∫–æ–º–ø—å—é—Ç–µ—Ä–∞, self.–ø–æ–ª–µ_–∫–æ–º–ø—å—é—Ç–µ—Ä–∞, True)
        self.—Ö–æ–ª—Å—Ç_–∫–æ–º–ø—å—é—Ç–µ—Ä–∞.bind('<Button-1>', self.–æ–±—Ä–∞–±–æ—Ç—á–∏–∫_–∫–ª–∏–∫–∞_–∫–æ–º–ø—å—é—Ç–µ—Ä–∞)
        
    def —Å–æ–∑–¥–∞—Ç—å_–ø–∞–Ω–µ–ª—å_—É–ø—Ä–∞–≤–ª–µ–Ω–∏—è(self, —Ä–æ–¥–∏—Ç–µ–ª—å):
        """T·∫°o b·∫£ng ƒëi·ªÅu khi·ªÉn"""
        —Ñ—Ä–µ–π–º = tk.Frame(—Ä–æ–¥–∏—Ç–µ–ª—å, bg='#2c3e50')
        —Ñ—Ä–µ–π–º.grid(row=0, column=1, padx=20)
        
        # Hi·ªÉn th·ªã th√¥ng tin
        self.–º–µ—Ç–∫–∞_—Å—Ç–∞—Ç—É—Å–∞ = tk.Label(
            —Ñ—Ä–µ–π–º,
            text="–†–ê–ó–ú–ï–°–¢–ò–¢–ï –í–ê–®–ò –ö–û–†–ê–ë–õ–ò",
            font=('Arial', 12, 'bold'),
            fg='#f39c12',
            bg='#2c3e50',
            wraplength=200
        )
        self.–º–µ—Ç–∫–∞_—Å—Ç–∞—Ç—É—Å–∞.pack(pady=10)
        
        # N√∫t ch·ªçn t√†u
        —Ñ—Ä–µ–π–º_–∫–æ—Ä–∞–±–ª–µ–π = tk.Frame(—Ñ—Ä–µ–π–º, bg='#2c3e50')
        —Ñ—Ä–µ–π–º_–∫–æ—Ä–∞–±–ª–µ–π.pack(pady=10)
        
        tk.Label(
            —Ñ—Ä–µ–π–º_–∫–æ—Ä–∞–±–ª–µ–π,
            text="–í—ã–±–µ—Ä–∏—Ç–µ –∫–æ—Ä–∞–±–ª—å:",
            font=('Arial', 10),
            fg='white',
            bg='#2c3e50'
        ).pack()
        
        for –∫–æ—Ä–∞–±–ª—å, —Ä–∞–∑–º–µ—Ä in self.–∫–æ—Ä–∞–±–ª–∏.items():
            –∫–Ω–æ–ø–∫–∞ = tk.Button(
                —Ñ—Ä–µ–π–º_–∫–æ—Ä–∞–±–ª–µ–π,
                text=f"{–∫–æ—Ä–∞–±–ª—å} ({—Ä–∞–∑–º–µ—Ä} –ø–∞–ª—É–±—ã)",
                font=('Arial', 9),
                command=lambda –∫=–∫–æ—Ä–∞–±–ª—å, —Ä=—Ä–∞–∑–º–µ—Ä: self.–≤—ã–±—Ä–∞—Ç—å_–∫–æ—Ä–∞–±–ª—å(–∫, —Ä),
                bg='#16a085',
                fg='white',
                width=15
            )
            –∫–Ω–æ–ø–∫–∞.pack(pady=2)
        
        # N√∫t xoay
        self.–∫–Ω–æ–ø–∫–∞_–ø–æ–≤–æ—Ä–æ—Ç–∞ = tk.Button(
            —Ñ—Ä–µ–π–º,
            text="–ü–æ–≤–æ—Ä–æ—Ç: –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ",
            font=('Arial', 10),
            command=self.–ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å_–ø–æ–≤–æ—Ä–æ—Ç,
            bg='#8e44ad',
            fg='white'
        )
        self.–∫–Ω–æ–ø–∫–∞_–ø–æ–≤–æ—Ä–æ—Ç–∞.pack(pady=5)
        self.–≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π = True
        
        # N√∫t t·ª± ƒë·ªông ƒë·∫∑t
        –∫–Ω–æ–ø–∫–∞_–∞–≤—Ç–æ = tk.Button(
            —Ñ—Ä–µ–π–º,
            text="–ê–≤—Ç–æ—Ä–∞–∑–º–µ—â–µ–Ω–∏–µ",
            font=('Arial', 10),
            command=self.–∞–≤—Ç–æ_—Ä–∞–∑–º–µ—â–µ–Ω–∏–µ_–∏–≥—Ä–æ–∫–∞,
            bg='#27ae60',
            fg='white'
        )
        –∫–Ω–æ–ø–∫–∞_–∞–≤—Ç–æ.pack(pady=5)
        
        # N√∫t b·∫Øt ƒë·∫ßu
        self.–∫–Ω–æ–ø–∫–∞_—Å—Ç–∞—Ä—Ç–∞ = tk.Button(
            —Ñ—Ä–µ–π–º,
            text="–ù–ê–ß–ê–¢–¨ –ò–ì–†–£",
            font=('Arial', 12, 'bold'),
            command=self.–Ω–∞—á–∞—Ç—å_–∏–≥—Ä—É,
            bg='#e74c3c',
            fg='white',
            state='disabled'
        )
        self.–∫–Ω–æ–ø–∫–∞_—Å—Ç–∞—Ä—Ç–∞.pack(pady=10)
        
        # N√∫t ch∆°i l·∫°i
        –∫–Ω–æ–ø–∫–∞_—Ä–µ—Å—Ç–∞—Ä—Ç = tk.Button(
            —Ñ—Ä–µ–π–º,
            text="–ù–æ–≤–∞—è –∏–≥—Ä–∞",
            font=('Arial', 10),
            command=self.–Ω–æ–≤–∞—è_–∏–≥—Ä–∞,
            bg='#95a5a6',
            fg='white'
        )
        –∫–Ω–æ–ø–∫–∞_—Ä–µ—Å—Ç–∞—Ä—Ç.pack(pady=5)
        
    def –Ω–∞—Ä–∏—Å–æ–≤–∞—Ç—å_–ø–æ–ª–µ(self, —Ö–æ–ª—Å—Ç, –ø–æ–ª–µ, —Å–∫—Ä—ã—Ç—å_–∫–æ—Ä–∞–±–ª–∏=False):
        """V·∫Ω b·∫£ng v·ªõi l∆∞·ªõi"""
        —Ö–æ–ª—Å—Ç.delete("all")
        —Ä–∞–∑–º–µ—Ä_–∫–ª–µ—Ç–∫–∏ = 35
        –æ—Ç—Å—Ç—É–ø = 40
        
        # V·∫Ω ch·ªØ c√°i
        –±—É–∫–≤—ã = ['–ê', '–ë', '–í', '–ì', '–î', '–ï', '–ñ', '–ó', '–ò', '–ö']
        for i in range(self.—Ä–∞–∑–º–µ—Ä_–ø–æ–ª—è):
            —Ö–æ–ª—Å—Ç.create_text(
                –æ—Ç—Å—Ç—É–ø + i * —Ä–∞–∑–º–µ—Ä_–∫–ª–µ—Ç–∫–∏ + —Ä–∞–∑–º–µ—Ä_–∫–ª–µ—Ç–∫–∏ // 2,
                20,
                text=–±—É–∫–≤—ã[i],
                font=('Arial', 12, 'bold'),
                fill='white'
            )
            
        # V·∫Ω s·ªë
        for i in range(self.—Ä–∞–∑–º–µ—Ä_–ø–æ–ª—è):
            —Ö–æ–ª—Å—Ç.create_text(
                20,
                –æ—Ç—Å—Ç—É–ø + i * —Ä–∞–∑–º–µ—Ä_–∫–ª–µ—Ç–∫–∏ + —Ä–∞–∑–º–µ—Ä_–∫–ª–µ—Ç–∫–∏ // 2,
                text=str(i + 1),
                font=('Arial', 12, 'bold'),
                fill='white'
            )
        
        # V·∫Ω l∆∞·ªõi v√† √¥
        for i in range(self.—Ä–∞–∑–º–µ—Ä_–ø–æ–ª—è):
            for j in range(self.—Ä–∞–∑–º–µ—Ä_–ø–æ–ª—è):
                x1 = –æ—Ç—Å—Ç—É–ø + j * —Ä–∞–∑–º–µ—Ä_–∫–ª–µ—Ç–∫–∏
                y1 = –æ—Ç—Å—Ç—É–ø + i * —Ä–∞–∑–º–µ—Ä_–∫–ª–µ—Ç–∫–∏
                x2 = x1 + —Ä–∞–∑–º–µ—Ä_–∫–ª–µ—Ç–∫–∏
                y2 = y1 + —Ä–∞–∑–º–µ—Ä_–∫–ª–µ—Ç–∫–∏
                
                # M√†u √¥
                if –ø–æ–ª–µ[i][j] == 'S' and not —Å–∫—Ä—ã—Ç—å_–∫–æ—Ä–∞–±–ª–∏:
                    —Ü–≤–µ—Ç = '#7f8c8d'  # T√†u
                elif –ø–æ–ª–µ[i][j] == 'X':
                    —Ü–≤–µ—Ç = '#e74c3c'  # Tr√∫ng
                elif –ø–æ–ª–µ[i][j] == 'O':
                    —Ü–≤–µ—Ç = '#3498db'  # Tr∆∞·ª£t
                else:
                    —Ü–≤–µ—Ç = '#2980b9'  # N∆∞·ªõc
                
                —Ö–æ–ª—Å—Ç.create_rectangle(x1, y1, x2, y2, fill=—Ü–≤–µ—Ç, outline='white', width=1)
                
                # K√Ω hi·ªáu ƒë·∫∑c bi·ªát
                if –ø–æ–ª–µ[i][j] == 'X':
                    —Ö–æ–ª—Å—Ç.create_text(
                        (x1 + x2) // 2,
                        (y1 + y2) // 2,
                        text='‚ú∏',
                        font=('Arial', 16),
                        fill='white'
                    )
                elif –ø–æ–ª–µ[i][j] == 'O':
                    —Ö–æ–ª—Å—Ç.create_text(
                        (x1 + x2) // 2,
                        (y1 + y2) // 2,
                        text='‚óã',
                        font=('Arial', 12),
                        fill='white'
                    )
    
    def –≤—ã–±—Ä–∞—Ç—å_–∫–æ—Ä–∞–±–ª—å(self, –∫–æ—Ä–∞–±–ª—å, —Ä–∞–∑–º–µ—Ä):
        """Ch·ªçn t√†u ƒë·ªÉ ƒë·∫∑t"""
        if self.—Ä–µ–∂–∏–º_—Ä–∞–∑–º–µ—â–µ–Ω–∏—è:
            self.–≤—ã–±—Ä–∞–Ω–Ω—ã–π_–∫–æ—Ä–∞–±–ª—å = (–∫–æ—Ä–∞–±–ª—å, —Ä–∞–∑–º–µ—Ä)
            self.–º–µ—Ç–∫–∞_—Å—Ç–∞—Ç—É—Å–∞.config(text=f"–í—ã–±—Ä–∞–Ω: {–∫–æ—Ä–∞–±–ª—å}\n–ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –ø–æ–ª–µ –¥–ª—è —Ä–∞–∑–º–µ—â–µ–Ω–∏—è")
    
    def –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å_–ø–æ–≤–æ—Ä–æ—Ç(self):
        """Chuy·ªÉn ƒë·ªïi h∆∞·ªõng ƒë·∫∑t t√†u"""
        self.–≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π = not self.–≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π
        —Ç–µ–∫—Å—Ç = "–ü–æ–≤–æ—Ä–æ—Ç: –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ" if self.–≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π else "–ü–æ–≤–æ—Ä–æ—Ç: –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ"
        self.–∫–Ω–æ–ø–∫–∞_–ø–æ–≤–æ—Ä–æ—Ç–∞.config(text=—Ç–µ–∫—Å—Ç)
    
    def –æ–±—Ä–∞–±–æ—Ç—á–∏–∫_–∫–ª–∏–∫–∞_–∏–≥—Ä–æ–∫–∞(self, —Å–æ–±—ã—Ç–∏–µ):
        """X·ª≠ l√Ω click tr√™n b·∫£ng ng∆∞·ªùi ch∆°i (ƒë·∫∑t t√†u)"""
        if not self.—Ä–µ–∂–∏–º_—Ä–∞–∑–º–µ—â–µ–Ω–∏—è or not self.–≤—ã–±—Ä–∞–Ω–Ω—ã–π_–∫–æ—Ä–∞–±–ª—å:
            return
            
        —Ä–∞–∑–º–µ—Ä_–∫–ª–µ—Ç–∫–∏ = 35
        –æ—Ç—Å—Ç—É–ø = 40
        
        # T√≠nh to√°n t·ªça ƒë·ªô √¥
        –∫–æ–ª–æ–Ω–∫–∞ = (—Å–æ–±—ã—Ç–∏–µ.x - –æ—Ç—Å—Ç—É–ø) // —Ä–∞–∑–º–µ—Ä_–∫–ª–µ—Ç–∫–∏
        —Å—Ç—Ä–æ–∫–∞ = (—Å–æ–±—ã—Ç–∏–µ.y - –æ—Ç—Å—Ç—É–ø) // —Ä–∞–∑–º–µ—Ä_–∫–ª–µ—Ç–∫–∏
        
        if 0 <= —Å—Ç—Ä–æ–∫–∞ < self.—Ä–∞–∑–º–µ—Ä_–ø–æ–ª—è and 0 <= –∫–æ–ª–æ–Ω–∫–∞ < self.—Ä–∞–∑–º–µ—Ä_–ø–æ–ª—è:
            –∫–æ—Ä–∞–±–ª—å, —Ä–∞–∑–º–µ—Ä = self.–≤—ã–±—Ä–∞–Ω–Ω—ã–π_–∫–æ—Ä–∞–±–ª—å
            if self.–º–æ–∂–Ω–æ_—Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å(self.–ø–æ–ª–µ_–∏–≥—Ä–æ–∫–∞, —Å—Ç—Ä–æ–∫–∞, –∫–æ–ª–æ–Ω–∫–∞, —Ä–∞–∑–º–µ—Ä, self.–≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π):
                self.—Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å_–∫–æ—Ä–∞–±–ª—å(self.–ø–æ–ª–µ_–∏–≥—Ä–æ–∫–∞, —Å—Ç—Ä–æ–∫–∞, –∫–æ–ª–æ–Ω–∫–∞, —Ä–∞–∑–º–µ—Ä, self.–≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π)
                self.–Ω–∞—Ä–∏—Å–æ–≤–∞—Ç—å_–ø–æ–ª–µ(self.—Ö–æ–ª—Å—Ç_–∏–≥—Ä–æ–∫–∞, self.–ø–æ–ª–µ_–∏–≥—Ä–æ–∫–∞)
                self.–≤—ã–±—Ä–∞–Ω–Ω—ã–π_–∫–æ—Ä–∞–±–ª—å = None
                self.–ø—Ä–æ–≤–µ—Ä–∏—Ç—å_–≤—Å–µ_–∫–æ—Ä–∞–±–ª–∏()
    
    def –æ–±—Ä–∞–±–æ—Ç—á–∏–∫_–∫–ª–∏–∫–∞_–∫–æ–º–ø—å—é—Ç–µ—Ä–∞(self, —Å–æ–±—ã—Ç–∏–µ):
        """X·ª≠ l√Ω click tr√™n b·∫£ng m√°y t√≠nh (b·∫Øn)"""
        if self.—Ä–µ–∂–∏–º_—Ä–∞–∑–º–µ—â–µ–Ω–∏—è:
            return
            
        —Ä–∞–∑–º–µ—Ä_–∫–ª–µ—Ç–∫–∏ = 35
        –æ—Ç—Å—Ç—É–ø = 40
        
        –∫–æ–ª–æ–Ω–∫–∞ = (—Å–æ–±—ã—Ç–∏–µ.x - –æ—Ç—Å—Ç—É–ø) // —Ä–∞–∑–º–µ—Ä_–∫–ª–µ—Ç–∫–∏
        —Å—Ç—Ä–æ–∫–∞ = (—Å–æ–±—ã—Ç–∏–µ.y - –æ—Ç—Å—Ç—É–ø) // —Ä–∞–∑–º–µ—Ä_–∫–ª–µ—Ç–∫–∏
        
        if 0 <= —Å—Ç—Ä–æ–∫–∞ < self.—Ä–∞–∑–º–µ—Ä_–ø–æ–ª—è and 0 <= –∫–æ–ª–æ–Ω–∫–∞ < self.—Ä–∞–∑–º–µ—Ä_–ø–æ–ª—è:
            if self.–ø–æ–ª–µ_–∫–æ–º–ø—å—é—Ç–µ—Ä–∞[—Å—Ç—Ä–æ–∫–∞][–∫–æ–ª–æ–Ω–∫–∞] in ['X', 'O']:
                return  # ƒê√£ b·∫Øn √¥ n√†y r·ªìi
                
            self.—Å–¥–µ–ª–∞—Ç—å_–≤—ã—Å—Ç—Ä–µ–ª(—Å—Ç—Ä–æ–∫–∞, –∫–æ–ª–æ–Ω–∫–∞)
    
    def –º–æ–∂–Ω–æ_—Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å(self, –ø–æ–ª–µ, —Å—Ç—Ä–æ–∫–∞, —Å—Ç–æ–ª–±–µ—Ü, —Ä–∞–∑–º–µ—Ä, –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π):
        """Ki·ªÉm tra c√≥ th·ªÉ ƒë·∫∑t t√†u kh√¥ng"""
        if –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π:
            if —Å—Ç–æ–ª–±–µ—Ü + —Ä–∞–∑–º–µ—Ä > self.—Ä–∞–∑–º–µ—Ä_–ø–æ–ª—è:
                return False
            for i in range(—Ä–∞–∑–º–µ—Ä):
                if –ø–æ–ª–µ[—Å—Ç—Ä–æ–∫–∞][—Å—Ç–æ–ª–±–µ—Ü + i] != '~':
                    return False
                # Ki·ªÉm tra xung quanh
                for dx in [-1, 0, 1]:
                    for dy in [-1, 0, 1]:
                        –Ω—Å, –Ω—Å—Ç = —Å—Ç—Ä–æ–∫–∞ + dx, —Å—Ç–æ–ª–±–µ—Ü + i + dy
                        if 0 <= –Ω—Å < self.—Ä–∞–∑–º–µ—Ä_–ø–æ–ª—è and 0 <= –Ω—Å—Ç < self.—Ä–∞–∑–º–µ—Ä_–ø–æ–ª—è:
                            if –ø–æ–ª–µ[–Ω—Å][–Ω—Å—Ç] == 'S':
                                return False
        else:
            if —Å—Ç—Ä–æ–∫–∞ + —Ä–∞–∑–º–µ—Ä > self.—Ä–∞–∑–º–µ—Ä_–ø–æ–ª—è:
                return False
            for i in range(—Ä–∞–∑–º–µ—Ä):
                if –ø–æ–ª–µ[—Å—Ç—Ä–æ–∫–∞ + i][—Å—Ç–æ–ª–±–µ—Ü] != '~':
                    return False
                # Ki·ªÉm tra xung quanh
                for dx in [-1, 0, 1]:
                    for dy in [-1, 0, 1]:
                        –Ω—Å, –Ω—Å—Ç = —Å—Ç—Ä–æ–∫–∞ + i + dx, —Å—Ç–æ–ª–±–µ—Ü + dy
                        if 0 <= –Ω—Å < self.—Ä–∞–∑–º–µ—Ä_–ø–æ–ª—è and 0 <= –Ω—Å—Ç < self.—Ä–∞–∑–º–µ—Ä_–ø–æ–ª—è:
                            if –ø–æ–ª–µ[–Ω—Å][–Ω—Å—Ç] == 'S':
                                return False
        return True
    
    def —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å_–∫–æ—Ä–∞–±–ª—å(self, –ø–æ–ª–µ, —Å—Ç—Ä–æ–∫–∞, —Å—Ç–æ–ª–±–µ—Ü, —Ä–∞–∑–º–µ—Ä, –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π):
        """ƒê·∫∑t t√†u l√™n b·∫£ng"""
        –∫–æ—Ä–∞–±–ª—å = []
        if –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π:
            for i in range(—Ä–∞–∑–º–µ—Ä):
                –ø–æ–ª–µ[—Å—Ç—Ä–æ–∫–∞][—Å—Ç–æ–ª–±–µ—Ü + i] = 'S'
                –∫–æ—Ä–∞–±–ª—å.append((—Å—Ç—Ä–æ–∫–∞, —Å—Ç–æ–ª–±–µ—Ü + i))
        else:
            for i in range(—Ä–∞–∑–º–µ—Ä):
                –ø–æ–ª–µ[—Å—Ç—Ä–æ–∫–∞ + i][—Å—Ç–æ–ª–±–µ—Ü] = 'S'
                –∫–æ—Ä–∞–±–ª—å.append((—Å—Ç—Ä–æ–∫–∞ + i, —Å—Ç–æ–ª–±–µ—Ü))
        
        self.–∫–æ—Ä–∞–±–ª–∏_–∏–≥—Ä–æ–∫–∞.append(–∫–æ—Ä–∞–±–ª—å)
    
    def –∞–≤—Ç–æ_—Ä–∞–∑–º–µ—â–µ–Ω–∏–µ(self, –ø–æ–ª–µ, —Å–ø–∏—Å–æ–∫_–∫–æ—Ä–∞–±–ª–µ–π):
        """ƒê·∫∑t t√†u t·ª± ƒë·ªông cho m√°y t√≠nh"""
        for –Ω–∞–∑–≤–∞–Ω–∏–µ, —Ä–∞–∑–º–µ—Ä in self.–∫–æ—Ä–∞–±–ª–∏.items():
            —Ä–∞–∑–º–µ—â–µ–Ω–æ = False
            –ø–æ–ø—ã—Ç–∫–∏ = 0
            
            while not —Ä–∞–∑–º–µ—â–µ–Ω–æ and –ø–æ–ø—ã—Ç–∫–∏ < 100:
                –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π = random.choice([True, False])
                
                if –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π:
                    —Å—Ç—Ä–æ–∫–∞ = random.randint(0, self.—Ä–∞–∑–º–µ—Ä_–ø–æ–ª—è - 1)
                    —Å—Ç–æ–ª–±–µ—Ü = random.randint(0, self.—Ä–∞–∑–º–µ—Ä_–ø–æ–ª—è - —Ä–∞–∑–º–µ—Ä)
                else:
                    —Å—Ç—Ä–æ–∫–∞ = random.randint(0, self.—Ä–∞–∑–º–µ—Ä_–ø–æ–ª—è - —Ä–∞–∑–º–µ—Ä)
                    —Å—Ç–æ–ª–±–µ—Ü = random.randint(0, self.—Ä–∞–∑–º–µ—Ä_–ø–æ–ª—è - 1)
                
                if self.–º–æ–∂–Ω–æ_—Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å(–ø–æ–ª–µ, —Å—Ç—Ä–æ–∫–∞, —Å—Ç–æ–ª–±–µ—Ü, —Ä–∞–∑–º–µ—Ä, –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π):
                    –∫–æ—Ä–∞–±–ª—å = []
                    if –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π:
                        for i in range(—Ä–∞–∑–º–µ—Ä):
                            –ø–æ–ª–µ[—Å—Ç—Ä–æ–∫–∞][—Å—Ç–æ–ª–±–µ—Ü + i] = 'S'
                            –∫–æ—Ä–∞–±–ª—å.append((—Å—Ç—Ä–æ–∫–∞, —Å—Ç–æ–ª–±–µ—Ü + i))
                    else:
                        for i in range(—Ä–∞–∑–º–µ—Ä):
                            –ø–æ–ª–µ[—Å—Ç—Ä–æ–∫–∞ + i][—Å—Ç–æ–ª–±–µ—Ü] = 'S'
                            –∫–æ—Ä–∞–±–ª—å.append((—Å—Ç—Ä–æ–∫–∞ + i, —Å—Ç–æ–ª–±–µ—Ü))
                    
                    —Å–ø–∏—Å–æ–∫_–∫–æ—Ä–∞–±–ª–µ–π.append(–∫–æ—Ä–∞–±–ª—å)
                    —Ä–∞–∑–º–µ—â–µ–Ω–æ = True
                
                –ø–æ–ø—ã—Ç–∫–∏ += 1
    
    def –∞–≤—Ç–æ_—Ä–∞–∑–º–µ—â–µ–Ω–∏–µ_–∏–≥—Ä–æ–∫–∞(self):
        """T·ª± ƒë·ªông ƒë·∫∑t t√†u cho ng∆∞·ªùi ch∆°i"""
        self.–ø–æ–ª–µ_–∏–≥—Ä–æ–∫–∞ = [['~' for _ in range(self.—Ä–∞–∑–º–µ—Ä_–ø–æ–ª—è)] for _ in range(self.—Ä–∞–∑–º–µ—Ä_–ø–æ–ª—è)]
        self.–∫–æ—Ä–∞–±–ª–∏_–∏–≥—Ä–æ–∫–∞ = []
        self.–∞–≤—Ç–æ_—Ä–∞–∑–º–µ—â–µ–Ω–∏–µ(self.–ø–æ–ª–µ_–∏–≥—Ä–æ–∫–∞, self.–∫–æ—Ä–∞–±–ª–∏_–∏–≥—Ä–æ–∫–∞)
        self.–Ω–∞—Ä–∏—Å–æ–≤–∞—Ç—å_–ø–æ–ª–µ(self.—Ö–æ–ª—Å—Ç_–∏–≥—Ä–æ–∫–∞, self.–ø–æ–ª–µ_–∏–≥—Ä–æ–∫–∞)
        self.–ø—Ä–æ–≤–µ—Ä–∏—Ç—å_–≤—Å–µ_–∫–æ—Ä–∞–±–ª–∏()
    
    def –ø—Ä–æ–≤–µ—Ä–∏—Ç—å_–≤—Å–µ_–∫–æ—Ä–∞–±–ª–∏(self):
        """Ki·ªÉm tra xem ƒë√£ ƒë·∫∑t ƒë·ªß t√†u ch∆∞a"""
        if len(self.–∫–æ—Ä–∞–±–ª–∏_–∏–≥—Ä–æ–∫–∞) == len(self.–∫–æ—Ä–∞–±–ª–∏):
            self.–∫–Ω–æ–ø–∫–∞_—Å—Ç–∞—Ä—Ç–∞.config(state='normal')
            self.–º–µ—Ç–∫–∞_—Å—Ç–∞—Ç—É—Å–∞.config(text="–í—Å–µ –∫–æ—Ä–∞–±–ª–∏ —Ä–∞–∑–º–µ—â–µ–Ω—ã!\n–ù–∞–∂–º–∏—Ç–µ '–ù–∞—á–∞—Ç—å –∏–≥—Ä—É'")
    
    def –Ω–∞—á–∞—Ç—å_–∏–≥—Ä—É(self):
        """B·∫Øt ƒë·∫ßu tr√≤ ch∆°i"""
        self.—Ä–µ–∂–∏–º_—Ä–∞–∑–º–µ—â–µ–Ω–∏—è = False
        self.–º–µ—Ç–∫–∞_—Å—Ç–∞—Ç—É—Å–∞.config(text="–í–ê–® –•–û–î\n–°—Ç—Ä–µ–ª—è–π—Ç–µ –ø–æ –ø–æ–ª—é –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞!")
        self.–Ω–∞—Ä–∏—Å–æ–≤–∞—Ç—å_–ø–æ–ª–µ(self.—Ö–æ–ª—Å—Ç_–∫–æ–º–ø—å—é—Ç–µ—Ä–∞, self.–ø–æ–ª–µ_–∫–æ–º–ø—å—é—Ç–µ—Ä–∞, True)
    
    def —Å–¥–µ–ª–∞—Ç—å_–≤—ã—Å—Ç—Ä–µ–ª(self, —Å—Ç—Ä–æ–∫–∞, —Å—Ç–æ–ª–±–µ—Ü):
        """Th·ª±c hi·ªán b·∫Øn"""
        # Ng∆∞·ªùi ch∆°i b·∫Øn
        if self.–ø–æ–ª–µ_–∫–æ–º–ø—å—é—Ç–µ—Ä–∞[—Å—Ç—Ä–æ–∫–∞][—Å—Ç–æ–ª–±–µ—Ü] == 'S':
            self.–ø–æ–ª–µ_–∫–æ–º–ø—å—é—Ç–µ—Ä–∞[—Å—Ç—Ä–æ–∫–∞][—Å—Ç–æ–ª–±–µ—Ü] = 'X'
            self.–º–µ—Ç–∫–∞_—Å—Ç–∞—Ç—É—Å–∞.config(text="–ü–û–ü–ê–î–ê–ù–ò–ï! üéØ\n–ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ —Å—Ç—Ä–µ–ª—è—Ç—å!")
            
            if self.–ø—Ä–æ–≤–µ—Ä–∏—Ç—å_–ø–æ—Ç–æ–ø–ª–µ–Ω–∏–µ(self.–ø–æ–ª–µ_–∫–æ–º–ø—å—é—Ç–µ—Ä–∞, —Å—Ç—Ä–æ–∫–∞, —Å—Ç–æ–ª–±–µ—Ü):
                self.–º–µ—Ç–∫–∞_—Å—Ç–∞—Ç—É—Å–∞.config(text="–ü–û–¢–û–ü–ò–õ –ö–û–†–ê–ë–õ–¨! üí•\n–ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ —Å—Ç—Ä–µ–ª—è—Ç—å!")
        else:
            self.–ø–æ–ª–µ_–∫–æ–º–ø—å—é—Ç–µ—Ä–∞[—Å—Ç—Ä–æ–∫–∞][—Å—Ç–æ–ª–±–µ—Ü] = 'O'
            self.–º–µ—Ç–∫–∞_—Å—Ç–∞—Ç—É—Å–∞.config(text="–ü–†–û–ú–ê–•! üí¶\n–•–æ–¥ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞")
            self.–æ–∫–Ω–æ.after(1000, self.—Ö–æ–¥_–∫–æ–º–ø—å—é—Ç–µ—Ä–∞)
            return
        
        self.–Ω–∞—Ä–∏—Å–æ–≤–∞—Ç—å_–ø–æ–ª–µ(self.—Ö–æ–ª—Å—Ç_–∫–æ–º–ø—å—é—Ç–µ—Ä–∞, self.–ø–æ–ª–µ_–∫–æ–º–ø—å—é—Ç–µ—Ä–∞, True)
        
        # Ki·ªÉm tra th·∫Øng
        if self.–ø—Ä–æ–≤–µ—Ä–∏—Ç—å_–∫–æ–Ω–µ—Ü_–∏–≥—Ä—ã():
            return
        
        # N·∫øu tr√∫ng, ti·∫øp t·ª•c l∆∞·ª£t
        if self.–ø–æ–ª–µ_–∫–æ–º–ø—å—é—Ç–µ—Ä–∞[—Å—Ç—Ä–æ–∫–∞][—Å—Ç–æ–ª–±–µ—Ü] == 'X':
            self.–º–µ—Ç–∫–∞_—Å—Ç–∞—Ç—É—Å–∞.config(text="–ü–û–ü–ê–î–ê–ù–ò–ï! üéØ\n–ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ —Å—Ç—Ä–µ–ª—è—Ç—å!")
    
    def —Ö–æ–¥_–∫–æ–º–ø—å—é—Ç–µ—Ä–∞(self):
        """L∆∞·ª£t c·ªßa m√°y t√≠nh"""
        –¥–æ—Å—Ç—É–ø–Ω—ã–µ_—Ö–æ–¥—ã = []
        for i in range(self.—Ä–∞–∑–º–µ—Ä_–ø–æ–ª—è):
            for j in range(self.—Ä–∞–∑–º–µ—Ä_–ø–æ–ª—è):
                if self.–ø–æ–ª–µ_–∏–≥—Ä–æ–∫–∞[i][j] not in ['X', 'O']:
                    –¥–æ—Å—Ç—É–ø–Ω—ã–µ_—Ö–æ–¥—ã.append((i, j))
        
        if –¥–æ—Å—Ç—É–ø–Ω—ã–µ_—Ö–æ–¥—ã:
            —Å—Ç—Ä–æ–∫–∞, —Å—Ç–æ–ª–±–µ—Ü = random.choice(–¥–æ—Å—Ç—É–ø–Ω—ã–µ_—Ö–æ–¥—ã)
            
            if self.–ø–æ–ª–µ_–∏–≥—Ä–æ–∫–∞[—Å—Ç—Ä–æ–∫–∞][—Å—Ç–æ–ª–±–µ—Ü] == 'S':
                self.–ø–æ–ª–µ_–∏–≥—Ä–æ–∫–∞[—Å—Ç—Ä–æ–∫–∞][—Å—Ç–æ–ª–±–µ—Ü] = 'X'
                self.–º–µ—Ç–∫–∞_—Å—Ç–∞—Ç—É—Å–∞.config(text="–ö–æ–º–ø—å—é—Ç–µ—Ä –ø–æ–ø–∞–ª –≤ –≤–∞—à –∫–æ—Ä–∞–±–ª—å! üí•")
                
                if self.–ø—Ä–æ–≤–µ—Ä–∏—Ç—å_–ø–æ—Ç–æ–ø–ª–µ–Ω–∏–µ(self.–ø–æ–ª–µ_–∏–≥—Ä–æ–∫–∞, —Å—Ç—Ä–æ–∫–∞, —Å—Ç–æ–ª–±–µ—Ü):
                    self.–º–µ—Ç–∫–∞_—Å—Ç–∞—Ç—É—Å–∞.config(text="–ö–æ–º–ø—å—é—Ç–µ—Ä –ø–æ—Ç–æ–ø–∏–ª –≤–∞—à –∫–æ—Ä–∞–±–ª—å! üò±")
            else:
                self.–ø–æ–ª–µ_–∏–≥—Ä–æ–∫–∞[—Å—Ç—Ä–æ–∫–∞][—Å—Ç–æ–ª–±–µ—Ü] = 'O'
                self.–º–µ—Ç–∫–∞_—Å—Ç–∞—Ç—É—Å–∞.config(text="–ö–æ–º–ø—å—é—Ç–µ—Ä –ø—Ä–æ–º–∞—Ö–Ω—É–ª—Å—è! üíß\n–í–ê–® –•–û–î")
        
        self.–Ω–∞—Ä–∏—Å–æ–≤–∞—Ç—å_–ø–æ–ª–µ(self.—Ö–æ–ª—Å—Ç_–∏–≥—Ä–æ–∫–∞, self.–ø–æ–ª–µ_–∏–≥—Ä–æ–∫–∞)
        
        # Ki·ªÉm tra th·∫Øng
        if self.–ø—Ä–æ–≤–µ—Ä–∏—Ç—å_–∫–æ–Ω–µ—Ü_–∏–≥—Ä—ã():
            return
        
        # N·∫øu m√°y t√≠nh tr√∫ng, ti·∫øp t·ª•c l∆∞·ª£t
        if self.–ø–æ–ª–µ_–∏–≥—Ä–æ–∫–∞[—Å—Ç—Ä–æ–∫–∞][—Å—Ç–æ–ª–±–µ—Ü] == 'X':
            self.–æ–∫–Ω–æ.after(1000, self.—Ö–æ–¥_–∫–æ–º–ø—å—é—Ç–µ—Ä–∞)
    
    def –ø—Ä–æ–≤–µ—Ä–∏—Ç—å_–ø–æ—Ç–æ–ø–ª–µ–Ω–∏–µ(self, –ø–æ–ª–µ, —Å—Ç—Ä–æ–∫–∞, —Å—Ç–æ–ª–±–µ—Ü):
        """Ki·ªÉm tra t√†u c√≥ b·ªã ch√¨m kh√¥ng"""
        for –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ in [(0,1), (1,0), (0,-1), (-1,0)]:
            –Ω—Å, –Ω—Å—Ç = —Å—Ç—Ä–æ–∫–∞ + –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ[0], —Å—Ç–æ–ª–±–µ—Ü + –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ[1]
            if 0 <= –Ω—Å < self.—Ä–∞–∑–º–µ—Ä_–ø–æ–ª—è and 0 <= –Ω—Å—Ç < self.—Ä–∞–∑–º–µ—Ä_–ø–æ–ª—è:
                if –ø–æ–ª–µ[–Ω—Å][–Ω—Å—Ç] == 'S':
                    return False
        return True
    
    def –ø—Ä–æ–≤–µ—Ä–∏—Ç—å_–∫–æ–Ω–µ—Ü_–∏–≥—Ä—ã(self):
        """Ki·ªÉm tra k·∫øt th√∫c tr√≤ ch∆°i"""
        –∏–≥—Ä–æ–∫_–≤—ã–∏–≥—Ä–∞–ª = all('S' not in row for row in self.–ø–æ–ª–µ_–∫–æ–º–ø—å—é—Ç–µ—Ä–∞)
        –∫–æ–º–ø—å—é—Ç–µ—Ä_–≤—ã–∏–≥—Ä–∞–ª = all('S' not in row for row in self.–ø–æ–ª–µ_–∏–≥—Ä–æ–∫–∞)
        
        if –∏–≥—Ä–æ–∫_–≤—ã–∏–≥—Ä–∞–ª:
            messagebox.showinfo("–ü–æ–±–µ–¥–∞!", "üéâ –ü–û–ó–î–†–ê–í–õ–Ø–Æ! –í–´ –í–´–ò–ì–†–ê–õ–ò!\n–í—Å–µ –∫–æ—Ä–∞–±–ª–∏ –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞ –ø–æ—Ç–æ–ø–ª–µ–Ω—ã!")
            self.—Ä–µ–∂–∏–º_—Ä–∞–∑–º–µ—â–µ–Ω–∏—è = True
            return True
        elif –∫–æ–º–ø—å—é—Ç–µ—Ä_–≤—ã–∏–≥—Ä–∞–ª:
            messagebox.showinfo("–ü–æ—Ä–∞–∂–µ–Ω–∏–µ", "üíÄ –í–´ –ü–†–û–ò–ì–†–ê–õ–ò!\n–í—Å–µ –≤–∞—à–∏ –∫–æ—Ä–∞–±–ª–∏ –ø–æ—Ç–æ–ø–ª–µ–Ω—ã!")
            self.—Ä–µ–∂–∏–º_—Ä–∞–∑–º–µ—â–µ–Ω–∏—è = True
            return True
        return False
    
    def –Ω–æ–≤–∞—è_–∏–≥—Ä–∞(self):
        """B·∫Øt ƒë·∫ßu game m·ªõi"""
        self.–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å_–∏–≥—Ä—É()
        self.–Ω–∞—Ä–∏—Å–æ–≤–∞—Ç—å_–ø–æ–ª–µ(self.—Ö–æ–ª—Å—Ç_–∏–≥—Ä–æ–∫–∞, self.–ø–æ–ª–µ_–∏–≥—Ä–æ–∫–∞)
        self.–Ω–∞—Ä–∏—Å–æ–≤–∞—Ç—å_–ø–æ–ª–µ(self.—Ö–æ–ª—Å—Ç_–∫–æ–º–ø—å—é—Ç–µ—Ä–∞, self.–ø–æ–ª–µ_–∫–æ–º–ø—å—é—Ç–µ—Ä–∞, True)
        self.–º–µ—Ç–∫–∞_—Å—Ç–∞—Ç—É—Å–∞.config(text="–†–ê–ó–ú–ï–°–¢–ò–¢–ï –í–ê–®–ò –ö–û–†–ê–ë–õ–ò")
        self.–∫–Ω–æ–ø–∫–∞_—Å—Ç–∞—Ä—Ç–∞.config(state='disabled')
        self.–≤—ã–±—Ä–∞–Ω–Ω—ã–π_–∫–æ—Ä–∞–±–ª—å = None
    
    def –∑–∞–ø—É—Å—Ç–∏—Ç—å(self):
        """Ch·∫°y ·ª©ng d·ª•ng"""
        self.–æ–∫–Ω–æ.mainloop()

# Ch·∫°y game
if __name__ == "__main__":
    –∏–≥—Ä–∞ = –ú–æ—Ä—Å–∫–æ–π–ë–æ–π–ì–£–ò()
    –∏–≥—Ä–∞.–∑–∞–ø—É—Å—Ç–∏—Ç—å()